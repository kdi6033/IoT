# 모터 및 자동 개폐기
## 제품 개요   
WSM-4035는 전동 스크류 드라이버로 스마트팜 농가에서 사용하기 적합한 자동 개폐기 장치입니다. 이 장치는 효율적인 작업 수행을 위해 정밀한 토크 제어와 빠른 반응 속도를 제공합니다.   
[우성하이텍 WSM-4035 제품링크](http://www.wsh.co.kr/ventcontrol2.html)  

## 제품 사양
- 모델명: WSM-4035  
- 구동방식: 유압식  
- 토크 제어: 알루미늄 합금  
- 출력 회전수: 4.2rpm  
- 전류: 2.6A  
- 토크: 최대 4kg·m  
- 무게: 2.4kg  
- 크기: 218 x 143 x 104mm   
![13 회로도](https://github.com/kdi6033/IoT/assets/37902752/23d57982-7c7e-4109-8350-dbc4409fbb20)

![13 회로도-i2r-04](https://github.com/user-attachments/assets/fcd6b202-b735-4339-99d3-9d58d5c9fae1)


## 배선연결  
- WSM-4035는 24V로 동작 합니다. 24V + - 를 기기의 배선에 연결하면 정회전 하고 반대로 연결하면 역회전 합니다. 배선에 두개 모두 0V를 연결하면 정지 합니다. 그러므로 i2r-03 보드의 릴레이 두개를 가지고 이러한 조합을 만들어 갑니다. 그림과 같이 배선을 연결합니다.

## 통신 프로토콜
i2r-03,04 보드의 프로토콜을 그대로 사용하고 내부 프로그램에서 동시에 on 이 되면 합선이 됨으로 두개의 릴레이를 off 시키고 선택된 릴레이를 on 시킴으로 합선을 방지하고 좌회전 우회전 제어를 합니다.

## 프로그램 설명
- 프로그램은 WSM-4035 모델을 이용하여 스마트팜 농가의 자동 개폐 시스템을 원격 제어합니다.
- WSM-4035 작동원리를 설명하고 프로그램 합니다.  
- 스마트폰에서 블루투스나 mqtt 통신을 이용하여 원격으로 제어하는 프로그램을 합니다.  
- [i2r.link AI&IoT](https://i2r.link) 사이트를 접속하면 자동으로 홈페이지가 만들어지고 여러개의 기기를 원격으로 제어 할 수 있습니다.
- 프로그램은 i2r-03,04 보드의 프로그램을 그대로 사용하고 제어보드의 아두이노 프로그램에서 동시에 on을 방지하는 프로그램만 추가 했습니다.
- 현장에서 동작을 하기 위해서 rp2040 을 사용하여 터치판넬을 부착하여 현장에서 바로 동작을 시킬 수 있습니다.

